<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Awesome Data Sets</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href= "https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" /> 
    <!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <!-- Morris Chart Styles-->
    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
    <!-- Custom Styles-->
    <link href="assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
</head>

<body>
    <div id="wrapper"> 
        <nav class="navbar navbar-default top-navbar" role="navigation" >
            <div class="navbar-header"  >
                <a class="navbar-brand" href="index.html"><b>Lab</b> Name</a>
            </div>
        </nav>
        <!--/. NAV TOP  -->
        <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">

                    <li>
                        <a  href="index.html"><i class="fa fa-sitemap"></i> Homepage</a>
                    </li>
                    <li>
                        <a  href="database.html"><i class="fa fa-dashboard"></i> Database</a>
                    </li>
                    <li>
                        <a href="proj2.html"><i class="fa fa-dashboard"></i> Database Description</a>
                    </li>
                    <li>
                        <a href="https://www.kaggle.com/competitions"><i class="fa fa-desktop"></i> Competition</a>
                    </li>
                    <li>
                        <a href="https://forms.gle/CSAHibGuzneaz7aW9"><i class="fa fa-qrcode"></i> Submission</a>
                    </li>
                    <li>
                        <a href="aboutus.html"><i class="fa fa-book"></i> About us</a>
                    </li>

                </ul>
            </div>
        </nav>
        <!-- /. NAV SIDE  -->
        <div id="page-wrapper">
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                        <h1 class="page-header">
                            Datasets
                        </h1>
                        <h2 class="page-header">
                        <small>New to the site?
To help you quickly find the dataset that best suite your needs, check out these instructions:
<br>
In the search bar, type in the key terms or the project title for specific datasets that match your search. The dataset is classified into four main categories: Hardware, Modality, Engagement Measures, and Gaze Measures. Click the arrow next to the category to view a more detailed classification. Use the indicators to track dataset the existing selections. '0 selected shows the total selections; '0 selected shown' displays the number of projects selected under the current filters. Two download options are available -- download the entire dataset or download only the selected ones. Use the 'Reset Search' button to clear all the filters and return to main dataset for a new search.</small>
                        </h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <!-- <h3 class="page-header">Search: <input type="text" id="txtSearch" onkeyup="search()" /></h3> -->
                        <div class="form__group field">
                          <input placeholder="Search by author, study tittle, keywords..." type="input" class="form__field"  name="txtSearch" id='txtSearch'  onkeyup="search()" />
                        </div>
                    </div>           
                </div>
                <div class="row">
                    <label id="count_lbl" style="float:left;bottom:0px;">0 Selected </label>
                    <label id="count_lbl_shown" style="float:left;bottom:0px;">0 Selected Shown</label>
                </div>
                <div class="row">
                    <!-- <label id="count_lbl" style="float:left;bottom:0px;">0 selected</label> -->
                    <!-- <button type="button" onclick="download_files()" style="height:50px;width:100px;border-width: thin;"><a href="#" class="h4" style="color: #525354;">Clear filters</a></button> -->
                    <button type="button" onclick="download_files()" style="height:35px;width:150px;border-width: thin; float:left; "><a href="#" class="h5" style="color: #525354;">Download Selected</a></button>
                    <button type="button" onclick="download_files()" style="height:35px;width:180px;border-width: thin; float:left"><a href="#" class="h5" style="color: #525354;">Download Full Dataset</a></button>
                    <button type="button" onClick="window.location.reload();" style="height:35px;width:180px;border-width: thin; float:left">Reset Search</button>
                    
                </div>
                <div style="height:5px;font-size:10px;">&nbsp;</div>
                <div class="row">
                    <table style="width:100%">
                      <tr>
                        <th><input type="checkbox"  style="width:15px;height:15px;background:white;border-radius:5px;border:1px solid #E5E4E2;" onclick="check_uncheck_all(this)">Datasets</th>
                        <th>Creator</th>
                        <th>
                            <div class="dropdown"> 
                                <button class="btn btn-success dropdown-toggle"
                                        type="button" 
                                        id="HardwareDropdown"
                                        data-bs-toggle="dropdown" 
                                        aria-expanded="false"
                                        style="background: transparent; border: none;color: black;"> 
                                    <b>Hardware</b>
                                </button> 
                                <ul class="dropdown-menu" id="hardware-dd" aria-labelledby="multiSelectDropdown" style="padding-left: 20px;"> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Mobile"> Mobile </li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Webcam"> Webcam </li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="VR"> VR </li> 
                                </ul> 
                            </div> 
                        </th>
                        <th>
                            <div class="dropdown"> 
                                <button class="btn btn-success dropdown-toggle"
                                        type="button" 
                                        id="ModalityDropdown"
                                        data-bs-toggle="dropdown" 
                                        aria-expanded="false"
                                        style="background: transparent; border: none;color: black;"> 
                                    <b>Modality</b>
                                </button> 
                                <ul class="dropdown-menu" id="modality-dd" aria-labelledby="multiSelectDropdown" style="padding-left: 20px;"> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Text"> Text </li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Video"> Video </li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Audio"> Audio </li> 
                                </ul> 
                            </div> 
                        </th>
                        <th>
                            <div class="dropdown"> 
                                <button class="btn btn-success dropdown-toggle"
                                        type="button" 
                                        id="ConstructDropdown"
                                        data-bs-toggle="dropdown" 
                                        aria-expanded="false"
                                        style="background: transparent; border: none;color: black;"> 
                                    <b>Engagement Measures</b>
                                </button> 
                                <ul class="dropdown-menu" id="construct-dd" aria-labelledby="multiSelectDropdown" style="padding-left: 20px;"> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Countable">Countable</li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Freely Moving">Freely Moving</li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Boredom">Boredom</li> 
                                </ul> 
                            </div>
                        </th>
                        <th>
                            <div class="dropdown"> 
                                <button class="btn btn-success dropdown-toggle"
                                        type="button" 
                                        id="ConstructDropdown"
                                        data-bs-toggle="dropdown" 
                                        aria-expanded="false"
                                        style="background: transparent; border: none;color: black;"> 
                                    <b>Gaze Measurement</b>
                                </button> 
                                <ul class="dropdown-menu" id="construct-dd" aria-labelledby="multiSelectDropdown" style="padding-left: 20px;"> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Countable">Countable</li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Freely Moving">Freely Moving</li> 
                                    <li><input style="margin-right:5px" type="checkbox" value="Boredom">Boredom</li> 
                                </ul> 
                            </div>
                        </th>
                        <th>Size</th>
                        <th>Date Created</th>
                        <th>Download</th>
                      </tr>
                      <tr>
                        <td><input type="checkbox"  style="width:15px;height:15px;background:white;border-radius:5px;border:1px solid #E5E4E2;" name="dataset" onclick="count_selected()"><input type="button" onclick="popup(this)" value="Fixation" style="border: none;background: none;text-decoration:underline">
                            <div id="popup"><iframe id="popupiframe"></iframe></div>
                            <div id="popupdarkbg"></div></td>
                        <td>Aaron Wong</td>
                        <td style="padding-left: 24px;">Mobile</td>
                        <td style="padding-left: 24px;">Text</td>
                        <td style="padding-left: 24px;">Freely Moving</td>
                        <td style="padding-left: 24px;">Freely Moving</td>
                        <td>10 GB</td>
                        <td>Jan. 1, 2022</td>
                        <td>
                            <input type="button" onclick="" value="Download" style="">
                        </td>
                      </tr>
                      <tr>
                        <td><input type="checkbox"  style="width:15px;height:15px;background:white;border-radius:5px;border:1px solid #E5E4E2; " name="dataset" onclick="count_selected()"><input type="button" onclick="popup(this)" value="Savings" style="border: none;background: none;text-decoration:underline">
                            <div id="popup"><iframe id="popupiframe"></iframe></div>
                            <div id="popupdarkbg"></div></td>
                        <td>Zhanlan Wei</td>
                        <td style="padding-left: 24px;">Webcam</td>
                        <td style="padding-left: 24px;">Text</td>
                        <td style="padding-left: 24px;">Boredom</td>
                        <td style="padding-left: 24px;">Freely Moving</td>
                        <td>9 GB</td>
                        <td>Jan. 1, 2023</td>
                        <td>
                            <input type="button" onclick="" value="Download" style="">
                        </td>
                      </tr>
                      <tr>
                        <td><input type="checkbox"  style="width:15px;height:15px;background:white;border-radius:5px;border:1px solid #E5E4E2;" name="dataset" onclick="count_selected()"><input type="button" onclick="popup(this)" value="Money Market" style="border: none;background: none;text-decoration:underline">
                            <div id="popup"><iframe id="popupiframe"></iframe></div>
                            <div id="popupdarkbg"></div></td>
                        <td>Justine Scattarelli</td>
                        <td style="padding-left: 24px;">VR</td>
                        <td style="padding-left: 24px;">Audio</td>
                        <td style="padding-left: 24px;">Countable</td>
                        <td style="padding-left: 24px;">Freely Moving</td>
                        <td>9 GB</td>
                        <td>Jan. 1, 2024</td>
                        <td>
                            <input type="button" onclick="" value="Download" style="">
                        </td>
                      </tr>
                      <tr>
                        <td><input type="checkbox"  style="width:15px;height:15px;background:white;border-radius:5px;border:1px solid #E5E4E2;" name="dataset" onclick="count_selected()"><input type="button" onclick="popup(this)" value="Other" style="border: none;background: none;text-decoration:underline">
                            <div id="popup"><iframe id="popupiframe"></iframe></div>
                            <div id="popupdarkbg"></div></td>
                        <td>Caitlin Mills</td>
                        <td style="padding-left: 24px;">VR</td>
                        <td style="padding-left: 24px;">Video</td>
                        <td style="padding-left: 24px;">Countable</td>
                        <td style="padding-left: 24px;">Freely Moving</td>
                        <td>20 GB</td>
                        <td>Jan. 1, 2022</td>
                        <td>
                            <input type="button" onclick="" value="Download" style="">
                        </td>
                      </tr>
                    </table>
                </div>
                <br>
                <!-- /. ROW  -->
				<footer><p>All right reserved.</p></footer>
            </div>
            <!-- /. PAGE INNER  -->
        </div>
        <!-- /. PAGE WRAPPER  -->
    </div>
    <!-- /. WRAPPER  -->
    <!-- JS Scripts-->
    <!-- jQuery Js -->
    <script src="assets/js/jquery-1.10.2.js"></script>
    <!-- Bootstrap Js -->
    <script src="assets/js/bootstrap.min.js"></script>
	 
    <!-- Metis Menu Js -->
    <script src="assets/js/jquery.metisMenu.js"></script>
    <!-- Morris Chart Js -->
    <script src="assets/js/morris/raphael-2.1.0.min.js"></script>
    <script src="assets/js/morris/morris.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js"></script>
    <script src= "https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"> </script> 
	
	
	<script src="assets/js/easypiechart.js"></script>
	<script src="assets/js/easypiechart-data.js"></script>
	
	
    <!-- Custom Js -->
    <script src="assets/js/custom-scripts.js"></script>
    <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->

    <script>
    function search(){
      // Get input field
      let input = document.getElementById('txtSearch');
      let filter = input.value.toUpperCase();
      var buttons = document.getElementsByTagName('button');
      var class_list_names = [];

      // Get all list items
      let li = document.querySelectorAll('li');

      var rows = document.getElementsByTagName("table")[0].rows;
      var selected = 0;


      // Loop through all list items, and hide those who don't match the search query
      for (let i = 1; i < rows.length; i++) {
        // if (li[i].getElementsByTagName('div').length !== 0 ){
        //   let a = li[i].getElementsByTagName('div')[0].getElementsByTagName('div')[0];
        //   if ((a.innerHTML.toUpperCase() == 'HOME') || (a.innerHTML.toUpperCase() == 'ABOUT US')){
        //     continue;
        //   }

        //   selected = true

        //   if (class_list_names.length != 0){
        //     for (let j = 0; j < class_list_names.length;j++){
        //       if (a.classList.contains(class_list_names[j]) == true) {
        //         selected = true;
        //         break;
        //       } else {
        //         selected = false;
        //       }
        //     }
        //   }

        //   if (a.innerText.toUpperCase().indexOf(filter) > -1 && selected) {
        //     li[i].style.display = '';
        //   } else {
        //     li[i].style.display = 'none';
        //   }
        // }
          let a = rows[i];
          if (a.innerText.toUpperCase().indexOf(filter) > -1 || a.innerHTML.toUpperCase().indexOf(filter) > -1) {
            rows[i].style.display = '';
            console.log(rows[i].cells[0]['childNodes'][0].checked)
            if (rows[i].cells[0]['childNodes'][0].checked){
                selected = selected + 1;
            }
          } else {
            rows[i].style.display = 'none';
          }
      }

      document.getElementById('count_lbl_shown').innerHTML = selected + " selected shown";
    }
  </script>
  <script>
    function button_handler(b){
      let ul = document.querySelectorAll('ul');
      let li = document.querySelectorAll('li');
      var buttons = document.getElementsByTagName('button');
      let input = document.getElementById('txtSearch');
      let filter = input.value.toUpperCase();
      var class_list_names = [];
      // console.log(b.style.backgroundColor)
      if (b.style.backgroundColor != "rgb(223, 236, 247)"){
        b.style.backgroundColor = "#DFECF7";
      }
      else{
        b.style.backgroundColor = "#00000000";
      }

      for (let i = 0; i < buttons.length; i++) {
        // console.log(buttons[i].id)
        if (buttons[i].style.backgroundColor != "rgba(0, 0, 0, 0)" && buttons[i].style.backgroundColor != ""){
            class_list_names.push(buttons[i].id);
        }
      }
      // console.log(class_list_names)
      if (class_list_names.length == 0){
        all_cat();
        return;
      }

      for (let i = 0; i < li.length; i++) {
        if (li[i].getElementsByTagName('div').length !== 0 ){
          let a = li[i].getElementsByTagName('div')[0].getElementsByTagName('div')[0];
          
          if ((a.innerHTML.toUpperCase() == 'HOME') || (a.innerHTML.toUpperCase() == 'ABOUT US')){
            continue;
          }

          for (let j = 0; j < class_list_names.length;j++){
              if (a.classList.contains(class_list_names[j]) == true && a.innerText.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = '';
                break;
              } else {
                li[i].style.display = 'none';
              }
          }
        }
      }
    }
    function show_selected(b){
        let li = document.querySelectorAll('li');
        var buttons = document.getElementsByTagName('button');
        var class_list_names = [];
        if (b.style.backgroundColor != "rgb(223, 236, 247)"){
            b.style.backgroundColor = "#DFECF7";
        }
        else{
            b.style.backgroundColor = "#00000000";
        }


        for (let i = 0; i < li.length; i++) {
            if (li[i].getElementsByTagName('div').length !== 0 ){
              let a = li[i].getElementsByClassName("project-download")[0]['childNodes'][0].checked;
              if (a || b.style.backgroundColor == "rgba(0, 0, 0, 0)") {
                li[i].style.display = '';
              } else {
                li[i].style.display = 'none';
              }
            }
        }

    }
    function all_cat(){
      // Get all list items
      let ul = document.querySelectorAll('ul');
      let li = document.querySelectorAll('li');
      var buttons = document.getElementsByTagName('button');

      for (let i = 0; i < buttons.length; i++) {
        buttons[i].style.backgroundColor = "#00000000";
      }

      document.getElementById('txtSearch').value = '';

      // Loop through all list items, and hide those who don't match the search query
      for (let i = 0; i < li.length; i++) {
        if (li[i].getElementsByTagName('div').length !== 0 ){
          let a = li[i].getElementsByTagName('div')[0].getElementsByTagName('div')[0];
          if ((a.innerHTML.toUpperCase() == 'HOME') || (a.innerHTML.toUpperCase() == 'ABOUT US')){
            continue;
          }
          li[i].style.display = '';
        }
      }
    }
    function clear_all(){
        all_cat();
        uncheck_all()
        document.getElementById('txtSearch').value = '';
    }
  </script>
  <script>
    function download_files(){
        // e.preventDefault();  //stop the browser from following
        // let checkbox = document.getElementsByName("download");
        // console.log(checkbox)
        // var zip = new JSZip();

        // files = ['https://files.grouplens.org/datasets/movielens/ml-100k.zip', 'https://files.grouplens.org/datasets/movielens/ml-100k.zip']

        // let urls = [];

        // for (let i = 0; i < checkbox.length; i++) {
        //     if (checkbox[i].checked){
        //         urls.push(files[i]);
        //     }
        // }
        // console.log(urls)

        // const promises = urls.map(async (url) => {
        //     const res = await fetch(url);
        //     const blob = await res.blob();
        //     return blob;
        // })

        // const res = await Promise.all(promises);

        // console.log(res);


        // window.location.href = 'downloads/test.pdf';
        window.open("downloads/test.zip","_blank");
        //creating an invisible element
        var element = document.createElement('a');
        element.setAttribute('href',
        '_blank');
        element.setAttribute('download', 'downloads/test.zip');
     
        // Above code is equivalent to
        // <a href="path of file" download="file name">
     
        document.body.appendChild(element);
     
        //onClick property
        element.click();
     
        document.body.removeChild(element);
    }
  </script>
  <script>
    function count_selected(){
        var selected = 0;
        var selected_shown = 0;
        var rows = document.getElementsByTagName("table")[0].rows;
        for (let i = 1; i < rows.length; i++) {
            if(rows[i].cells[0]['childNodes'][0].checked){
                selected = selected + 1;
                if (rows[i].style.display != 'none'){
                    selected_shown = selected_shown + 1;
                }
            }

        }
        document.getElementById('count_lbl').innerHTML = selected + " selected";
        document.getElementById('count_lbl_shown').innerHTML = selected_shown + " selected shown";
    }
    function check_uncheck_all(e){
        let checkbox = document.getElementsByName("dataset");
        for (let i = 0; i < checkbox.length; i++) {
            if(e.checked){
                checkbox[i].checked = true;
            }
            else{
                checkbox[i].checked = false;
            }
        }
        if(e.checked){
            var selected = 0;
            var rows = document.getElementsByTagName("table")[0].rows;
            for (let i = 1; i < rows.length; i++) {
                if(rows[i].cells[0]['childNodes'][0].checked){
                    selected = selected + 1;
                }
            }
            document.getElementById('count_lbl').innerHTML = selected + " selected";
            document.getElementById('count_lbl_shown').innerHTML = selected + " selected shown";
        }else{
            count_selected()
        }
    }
  </script>
  <script>
      function selectOption() {
          let dropdown = document.getElementById('dropdown');
          // get the index of the selected option
          let selectedIndex = dropdown.selectedIndex;
          // get a selected option and text value using the text property
          let selectedValue = dropdown.options[selectedIndex].text;

          let ul = document.querySelectorAll('ul');
          let li = document.querySelectorAll('li');
          let input = document.getElementById('txtSearch');
          let filter = input.value.toUpperCase();
          var class_list_names = '';

          if(selectedValue == "Clear"){
            all_cat();
            return;
          }

          if(selectedValue == "Modality"){
            class_list_names = "group-1";
          }
          if(selectedValue == "Placeholder 2"){
            class_list_names = "group-2";
          }
          if(selectedValue == "Placeholder 3"){
            class_list_names = "group-3";
          }


          if(selectedValue == "Show selected"){
            for (let i = 0; i < li.length; i++) {
                if (li[i].getElementsByTagName('div').length !== 0 ){
                  let a = li[i].getElementsByClassName("project-download")[0]['childNodes'][0].checked;
                  if (a) {
                    li[i].style.display = '';
                  } else {
                    li[i].style.display = 'none';
                  }
                }
            }
            return;
          }


          for (let i = 0; i < li.length; i++) {
            if (li[i].getElementsByTagName('div').length !== 0 ){
              let a = li[i].getElementsByTagName('div')[0].getElementsByTagName('div')[0];
              if ((a.innerHTML.toUpperCase() == 'HOME') || (a.innerHTML.toUpperCase() == 'ABOUT US')){
                continue;
              }
            if (a.classList.contains(class_list_names) == true && a.innerText.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = '';
                break;
              } else {
                li[i].style.display = 'none';
              }
            }
          }

   }
  </script>
  <script> 
        const dropdownMenu_hardware =  document.getElementById('hardware-dd'); 
        dropdownMenu_hardware.addEventListener('change', handle_hardware); 
        let mySelectedItems_hardware = [];

        const dropdownMenu_modality =  document.getElementById('modality-dd'); 
        dropdownMenu_modality.addEventListener('change', handle_modality); 
        let mySelectedItems_modality = [];

        const dropdownMenu_construct =  document.getElementById('construct-dd'); 
        dropdownMenu_construct.addEventListener('change', handle_construct); 
        let mySelectedItems_construct = [];

        function handle_hardware(event) { 
            var selected = 0;
            const dropdownButton = document.getElementById('HardwareDropdown'); 
             
            const checkbox = event.target; 
            if (checkbox.checked) { 
                mySelectedItems_hardware.push(checkbox.value); 
            } else { 
                mySelectedItems_hardware =  
                  mySelectedItems_hardware.filter((item) => item !== checkbox.value); 
            } 
  
            dropdownButton.innerHTML = mySelectedItems_hardware.length > 0 
                ? mySelectedItems_hardware.join(', ') : "Hardware".bold(); 

            var rows = document.getElementsByTagName("table")[0].rows;
            for (let i = 1; i < rows.length; i++) {
                var hardware = mySelectedItems_hardware.includes(rows[i].cells[2].innerText) ||  mySelectedItems_hardware.length == 0;
                var modality = mySelectedItems_modality.includes(rows[i].cells[3].innerText) ||  mySelectedItems_modality.length == 0;
                var construct = mySelectedItems_construct.includes(rows[i].cells[6].innerText) ||  mySelectedItems_construct.length == 0;
                if(hardware && modality && construct){
                    rows[i].style.display = '';
                    if (rows[i].cells[0]['childNodes'][0].checked){
                        selected = selected + 1;
                    }
                }
                else{
                    rows[i].style.display = 'none';
                }
            }
            document.getElementById('count_lbl_shown').innerHTML = selected + " selected shown";
        } 

        function handle_modality(event) { 
            const dropdownButton = document.getElementById('ModalityDropdown'); 
            var selected = 0;
             
            const checkbox = event.target; 
            if (checkbox.checked) { 
                mySelectedItems_modality.push(checkbox.value); 
            } else { 
                mySelectedItems_modality =  
                  mySelectedItems_modality.filter((item) => item !== checkbox.value); 
            } 
  
            dropdownButton.innerHTML = mySelectedItems_modality.length > 0 
                ? mySelectedItems_modality.join(', ') : "Modality".bold(); 

            var rows = document.getElementsByTagName("table")[0].rows;
            for (let i = 1; i < rows.length; i++) {
                var hardware = mySelectedItems_hardware.includes(rows[i].cells[2].innerText) ||  mySelectedItems_hardware.length == 0;
                var modality = mySelectedItems_modality.includes(rows[i].cells[3].innerText) ||  mySelectedItems_modality.length == 0;
                var construct = mySelectedItems_construct.includes(rows[i].cells[6].innerText) ||  mySelectedItems_construct.length == 0;
                if(hardware && modality && construct){
                    rows[i].style.display = '';
                    if (rows[i].cells[0]['childNodes'][0].checked){
                        selected = selected + 1;
                    }
                }
                else{
                    rows[i].style.display = 'none';
                }
            }
            document.getElementById('count_lbl_shown').innerHTML = selected + " selected shown";
        } 

        function handle_construct(event) { 
            const dropdownButton = document.getElementById('ConstructDropdown'); 
            var selected = 0;
             
            const checkbox = event.target; 
            if (checkbox.checked) { 
                mySelectedItems_construct.push(checkbox.value); 
            } else { 
                mySelectedItems_construct =  
                  mySelectedItems_construct.filter((item) => item !== checkbox.value); 
            } 
  
            dropdownButton.innerHTML = mySelectedItems_construct.length > 0 
                ? mySelectedItems_construct.join(', ') : "Construct".bold(); 

            var rows = document.getElementsByTagName("table")[0].rows;
            for (let i = 1; i < rows.length; i++) {
                var hardware = mySelectedItems_hardware.includes(rows[i].cells[2].innerText) ||  mySelectedItems_hardware.length == 0;
                var modality = mySelectedItems_modality.includes(rows[i].cells[3].innerText) ||  mySelectedItems_modality.length == 0;
                var construct = mySelectedItems_construct.includes(rows[i].cells[4].innerText) ||  mySelectedItems_construct.length == 0;
                if(hardware && modality && construct){
                    rows[i].style.display = '';
                    if (rows[i].cells[0]['childNodes'][0].checked){
                        selected = selected + 1;
                    }
                }
                else{
                    rows[i].style.display = 'none';
                }
            }
            document.getElementById('count_lbl_shown').innerHTML = selected + " selected shown";
        }
   </script>
   <script>
   function popup(e){
      // e.preventDefault();
      document.getElementById("popupdarkbg").style.display = "block";
      document.getElementById("popup").style.display = "block";
      document.getElementById('popupiframe').src = "proj1_small.html";
      document.getElementById('popupdarkbg').onclick = function() {
      document.getElementById("popup").style.display = "none";
      document.getElementById("popupdarkbg").style.display = "none";};
      return false;
  
    }
   </script>


</body>

</html>